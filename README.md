# Django testing

Django testing - это проект по тестировке двух сервисов, написанных на Django. Сервисы покрыты тестами разных библиотек: unittest и pytest.

**Ya News** - новостной сайт, где пользователи могут оставлять комментарии к новостям. Этот проект покрыт тестами pytest.

## Чтобы развернуть проект на своем компьютере:

1. Склонируйте репозиторий 
```
git@github.com:TatianaSharova/django_testing.git
```
2. Создайте и активируйте виртуальное окружение:

Для Linux/macOS:
```
python3 -m venv venv
```
```
source venv/bin/activate
```
Для Windows:
```
python -m venv venv
```
```
source venv/Scripts/activate
```
3. Установить зависимости из файла requirements.txt:
```
pip install -r requirements.txt
```
4. В директории ya_news выполните миграции и заполните бд:
```
python manage.py migrate
```
```
python manage.py loaddata news.json
```
5. Запустите сервис из директории ya_news:
```
python manage.py runserver
```
Сервис будет доступен по адресу  http://127.0.0.1:8000/

Тесты pytest расположены в директории ya_news/news/pytest_tests. Чтобы их запустить из директории ya_news выполните код:
```
pytest
```
Данные тесты проверяют доступность страниц полльзователям с разным уровнем доступа, возможность отправки комментариев, пагинацию, сортировку публикаций на главной странице, запрет на публикацию комментария, если он содержит запрещенные слова, логику работы приложения и др.















## После копирования тестов, написанных в ходе прохождения спринта, для проверки готовности проекта к сдаче необходимо выполнить 4 действия:
1. Создать и активировать виртуальное окружение; установить зависимости из файла `requirements.txt`;
2. Запустить скрипт для `run_tests.sh` из корневой директории проекта:
```sh
bash run_tests.sh
```

**Если все проверки успешно выполнились, проект можно отправлять на ревью.**
