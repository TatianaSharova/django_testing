# Django testing

**Django testing** - это проект по тестировке двух сервисов, написанных на Django. Сервисы покрыты тестами разных библиотек: unittest и pytest.


**Ya News** - новостной сайт, где пользователи могут оставлять комментарии к новостям. Этот проект покрыт тестами pytest.

## Чтобы развернуть Ya News на своем компьютере:

**_1. Склонируйте репозиторий:_**
```
git@github.com:TatianaSharova/django_testing.git
```
**_2. Создайте и активируйте виртуальное окружение:_**

Для Linux/macOS:
```
python3 -m venv venv
```
```
source venv/bin/activate
```
Для Windows:
```
python -m venv venv
```
```
source venv/Scripts/activate
```
**_3. Установить зависимости из файла requirements.txt:_**
```
pip install -r requirements.txt
```
**_4. В директории ya_news выполните миграции и заполните бд:_**
```
python manage.py migrate
```
```
python manage.py loaddata news.json
```
**_5. Запустите сервис из директории ya_news:_**
```
python manage.py runserver
```
Сервис будет доступен по адресу  http://127.0.0.1:8000/

Тесты pytest расположены в директории ya_news/news/pytest_tests. Чтобы их запустить из директории ya_news выполните код:
```
pytest
```
Данные тесты проверяют доступность страниц пользователям с разным уровнем доступа, возможность отправки комментариев, пагинацию, сортировку публикаций на главной странице, запрет на публикацию комментария, если он содержит запрещенные слова, логику работы приложения и др.


**Ya Note** - электронная записная книжка для тех, кто не хочет ничего забыть и поэтому всё записывает. Тесты для этого проекты написаны на Unittest.

## Чтобы развернуть проект Ya Note на своем компьютере:

**_1. Если вы не разворачивали Ya Note, то сделайте первые 3 пункта из разбора, как развернуть Ya News на своем компьютере._**

**_2. В директории ya_note выполните миграции:_**
```
python manage.py migrate
```
**_3. Запустите сервис из директории ya_note:_**
```
python manage.py runserver
```
Сервис будет доступен по адресу  http://127.0.0.1:8000/

Тесты unittest расположены в директории ya_note/note/tests. Чтобы их запустить из директории ya_note выполните код:
```
python manage.py test
```
Данные тесты проверяют доступность страниц пользователям с разным уровнем доступа, yевозможноcть создать две заметки с одинаковым slug, автоматическое формирование slug заметки, если он не указан при создании заметки, логику работы приложения и др.

## Если хотите прогнать сразу все тесты для двух проектов, то при активированном виртуальном окружении из директории django_testing запустите код:
```
bash run_tests.sh
```

## Автор
Шарова Татьяна
